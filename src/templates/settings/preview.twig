{% from "matrix-field-preview/_includes/macros" import assetLocationInput,configWarning  %}

{% extends "matrix-field-preview/_layouts/settings" %}

{% import '_includes/forms' as forms %}

{% set fullPageForm = true %}

{% do view.registerAssetBundle("craft\\web\\assets\\fileupload\\FileUploadAsset") %}

{% set title = "'" ~ preview.blockType.name ~ "' Preview" %}

{% set crumbs = [
    { label: plugin.name | t('feed-me'), url: url('matrix-field-preview/settings') },
    { label: "Previews" | t('feed-me'), url: url('matrix-field-preview/settings/previews') }
] %}

{% block content %}
    <input type="hidden" name="action" value="plugins/save-plugin-settings">
    <input type="hidden" name="pluginHandle" value="matrix-field-plugin">

    {% namespace 'settings' %}
        {{ forms.textareaField({
            first: true,
            label: "Description"|t('matrix-field-preview'),
            instructions: "A short description of this matrix block"|t('matrix-field-preview'),
            id: "description",
            name: "description",
            value: preview.description,
            errors: preview.getErrors("description")
        }) }}

        {{ forms.field(
                {
                    instructions: "Upload a screenshot of your matrix field block here. This will be visible when publishing content via the matrix field",
                    label: "Preview Image"|t('matrix-field-preview'),
                    id: 'preview'
                },
                include('matrix-field-preview/_includes/preview-image', with_context = true)
            )
        }}
    {% endnamespace %}
{% endblock %}